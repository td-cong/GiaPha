@model GiaPha.Models.ThanhVien

@{
    ViewBag.Title = "Cập nhật thông tin";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var ThanhVienList = (List<GiaPha.Models.ThanhVien>)ViewBag.ThanhVienList;
    var VoChongList = (List<GiaPha.Models.VoChong>)ViewBag.VoChongList;
}

<h4 class="my-3">Cập nhật thông tin thành viên</h4>
<hr />
@using (Html.BeginForm("Edit", "ThanhViens", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(model => model.ID)

    <div class="form">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="row">
            <div class="form-group col-md-6">
                <strong>Cha</strong>
                @Html.DropDownListFor(model => model.PID, new SelectList(ThanhVienList, "ID", "HoTen"), "- Chọn -", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.PID, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-12">
                <strong>Họ tên</strong>
                @Html.EditorFor(model => model.HoTen, new { htmlAttributes = new { @class = "form-control w-100" } })
                @Html.ValidationMessageFor(model => model.HoTen, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <strong>Năm sinh</strong>
                @Html.EditorFor(model => model.NamSinh, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.NamSinh, "", new { @class = "text-danger" })
            </div>

            <div class="form-group col-md-6">
                <strong>Năm mất</strong>
                @Html.EditorFor(model => model.NamMat, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.NamMat, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <strong>Giới tính</strong><br>
                <div class="form-check form-check-inline">
                    @Html.RadioButtonFor(model => model.GioiTinh, true, new { @class = "form-check-input" }) Nam
                </div>
                <div class="form-check form-check-inline">
                    @Html.RadioButtonFor(model => model.GioiTinh, false, new { @class = "form-check-input" }) Nữ
                </div>
                @Html.ValidationMessageFor(model => model.GioiTinh, "", new { @class = "text-danger" })
            </div>
            <div class="form-group col-md-6">
                <strong>Vợ (chồng)</strong>
                @Html.DropDownListFor(model => model.VoChong, new SelectList(ThanhVienList, "ID", "HoTen"), "- Chọn -", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.VoChong, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <strong>Địa phương</strong>
                @Html.EditorFor(model => model.DiaPhuong, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.DiaPhuong, "", new { @class = "text-danger" })
            </div>

            <div class="form-group col-md-6">
                <strong>Ảnh đại diện</strong>
                <div class="row">
                    <div class="col-md-4 p-0">
                        <div style="border: 1px solid #aaa; padding: 5px; width: 138px; background-color: #fff">
                            <img src="@(Model.Avt)"
                                 width="128"
                                 title="Ảnh hiện tại"
                                 alt="Ảnh" />
                        </div>
                    </div>
                    <div class="col-md-8 p-0">
                        @Html.EditorFor(model => model.Avt, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.TextBox("file", "", new { type = "file", @class = "form-control" })
                    </div>
                </div>
                @Html.ValidationMessageFor(model => model.Avt, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-12">
                <strong>Lý Lịch</strong>
                @Html.TextAreaFor(model => model.LyLich, new { @class = "form-control", @row = "5" })
                @Html.ValidationMessageFor(model => model.LyLich, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group my-3">
            <div class="col-md-12 text-center">
                <button type="submit" class="btn btn-primary"><i class="bi bi-floppy-fill"></i> Lưu</button>
                <a class="btn btn-secondary" href="@Url.Action("/Index")">Quay lại</a>
            </div>
        </div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
